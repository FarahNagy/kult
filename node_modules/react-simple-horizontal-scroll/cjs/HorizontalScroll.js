"use strict";
exports.__esModule = true;
var tslib_1 = require("tslib");
var react_1 = tslib_1.__importDefault(require("react"));
var scrollToItem_1 = require("./scrollToItem");
require("./HorizontalScroll.styles.css");
var HorizontalScrollComponent = function (_a, ref) {
    var _b = _a.offset, offset = _b === void 0 ? 0 : _b, _c = _a.gap, gap = _c === void 0 ? 0 : _c, _d = _a.scrollToItemIndex, scrollToItemIndex = _d === void 0 ? 0 : _d, activeDataAttribute = _a.activeDataAttribute, _e = _a.layout, layout = _e === void 0 ? 'SCROLL' : _e, children = _a.children;
    var wrapperRef = react_1["default"].useRef(null);
    react_1["default"].useEffect(function () {
        if (scrollToItemIndex > 0) {
            (0, scrollToItem_1.scrollToItem)(scrollToItemIndex, wrapperRef, activeDataAttribute);
        }
    }, [scrollToItemIndex, wrapperRef, activeDataAttribute]);
    react_1["default"].useImperativeHandle(ref, function () { return ({
        scrollToIndex: function (index) {
            (0, scrollToItem_1.scrollToItem)(index, wrapperRef, activeDataAttribute);
        },
        hasScrollContent: function () {
            return (wrapperRef === null || wrapperRef === void 0 ? void 0 : wrapperRef.current) ? wrapperRef.current.clientWidth < wrapperRef.current.scrollWidth : false;
        }
    }); });
    return (react_1["default"].createElement("section", { ref: wrapperRef, className: layout === 'SCROLL' ? 'horizontalScrollWrapper' : 'floatWrapper', style: { gap: gap, padding: "0 ".concat(offset), scrollPaddingInline: offset } }, react_1["default"].Children.map(children, function (child, index) {
        if (react_1["default"].isValidElement(child)) {
            var props = tslib_1.__assign({}, child.props);
            if (activeDataAttribute !== undefined) {
                props[activeDataAttribute] = "".concat(index === 0);
            }
            return react_1["default"].cloneElement(child, props);
        }
        return null;
    })));
};
exports["default"] = react_1["default"].forwardRef(HorizontalScrollComponent);
//# sourceMappingURL=HorizontalScroll.js.map